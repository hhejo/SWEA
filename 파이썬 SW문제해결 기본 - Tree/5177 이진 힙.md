# 5177 이진 힙



```python
def set_heap(node):
    global tr
    pa_node = node // 2
    if 0 == pa_node:
        return
    if tr[pa_node] > tr[node]:
        tr[pa_node], tr[node] = tr[node], tr[pa_node]
        set_heap(pa_node)


for T in range(1, int(input()) + 1):
    N = int(input())
    li = list(map(int, input().split()))
    tr = [0]
    for cur_node, num in enumerate(li, 1):
        tr.append(num)
        set_heap(cur_node)
    n, ans = N, 0
    while n:
        n //= 2
        ans += tr[n]
    print(f'#{T} {ans}')
```

